# Example scene configuration for the hybrid simulation.
# Units: length in meters (m), time in seconds (s), mass in kilograms (kg).
scene_name: mpm_water_drop
simulation:
  time_step: 0.0002 # s (smaller for softer materials)
  total_steps: 2500
  gravity: [0.0, 0.0, -9.81] # m/s^2

# MPM water box configuration
liquid_box:
  min_corner: [-0.5, -0.5, -0.8]  # m
  max_corner: [0.5, 0.5, 0.1]  # m
  particle_spacing: 0.02  # m
  rest_density: 1000.0  # kg/m^3
  smoothing_length: 0.036  # m
  initial_velocity: [0.0, 0.0, -5.0]  # m/s
# mpm_box:
#   min_corner: [-0.8, -0.8, 0.4] # m (water cube starting at z=2.0)
#   max_corner: [0.2, 0.0, 1.4] # m (2x2x2 cube)
#   particle_spacing: 0.02 # m (RANDOM distribution, not grid!)
#   density: 1000.0 # kg/m^3
#   initial_velocity: [0.0, 0.0, -2.0] # m/s
#   material_type: water
#   grid_resolution: 64 # 128x128x128 grid
#   domain_min: -1.5 # m (matches your requirement)
#   domain_max: 1.5 # m (matches your requirement)
#   bulk_modulus: 200.0 # Lower = more fluid (50-200 for water-like behavior)
#   youngs_modulus: 0.0 # E=0 for ideal fluid (no shear resistance)
#   boundary_mode: bounce # Slip boundary at domain edges

# Optional: SPH liquid box (disabled for MPM-only simulation)
# liquid_box:
#   min_corner: [-0.8, -0.8, -0.8]  # m
#   max_corner: [0, 0.8, 1]  # m
#   particle_spacing: 0.1  # m
#   rest_density: 1000.0  # kg/m^3
#   smoothing_length: 0.18  # m
#   initial_velocity: [0.0, 0.0, 0.0]  # m/s

# rigid_bodies:
# # Movable rigid bodies (ignored for now as requested)
#   - name: sphere
#     mesh_path: assets/rigid/sphere.obj
#     mass: 2.5  # kg
#     inertia: [1.0, 1.0, 1.0]  # kgÂ·m^2
#     initial_position: [0.0, 0.0, 1.0]  # m
#     initial_orientation: [0.5, 1.5, 1.0, 1.0]
#     initial_linear_velocity: [0.0, 0.0, 0.0]  # m/s
#     initial_angular_velocity: [1.0, 1.0, 1.0]  # rad/s
static_bodies:
  # Static container for water to fall into
  - name: container
    mesh_path: assets/static/box_20cm_thick.obj
    initial_position: [0.0, 0.0, 0.0] # m
    initial_orientation: [0.0, 0.0, 0.0, 1.0]

export:
  output_root: outputs_mpm
  fluid_subdir: fluid
  rigid_subdir: rigid
  static_subdir: static
